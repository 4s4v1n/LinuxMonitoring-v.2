# LinuxMonitoring-v.2

![logo](./image/logo.png)

## Содержание

В проекте представлены 6 скриптов на языке bash. Каждый скрипт хранится в директории `./src/0x/`, где x - номер 
скрипта. Каждый скрипт запускается через `./main.sh`, права на запуск файла, как исполняемого - уже установлены.
На запуск каждого скрипта есть валидация, выполненная на регулярных выражениях.

## Скрипт `01`

Данный скрипт генерирует папки и файлы выбранного размера, в указанной директории.

Запускается с 6 параметрами, где:
1. Абсолютный путь до папки, где будет генерация.
2. Количество вложенных папок.
3. Список букв используемых в названии папки.
4. Количество файлов в созданных папках.
5. Список букв в названии и расширении файлов.
6. Размер файлов (KB).

Если остается менее 1 GB в корневом разделе, скрипт завершает работу.
Также после завершения работы будет создан log в котором будут указаны имена созданных файлов и папок.

## Скрипт `02`

Данный скрипт засоряет систему в случайных местах от папки `/home`.

Запускается с 3 параметрами, где:
1. Список букв в названиях генерируемых папок.
2. Список букв в названии и расширении генерируемых файлов.
3. Размер файлов (MB).

Скрипт завершит работу, когда останется менее 1 GB в корневом разделе.
После завершения работы, будет создан log в котором будут указаны имена созданных файлов и папок, а также
время начала и завершения работы скрипта.

## Скрипт `03`

Данный скрипт очищает систему от созданных файлов после запуска второго скрипта.

Запускается с 1 параметром (число от 1 до 3), где:
1. Очистка по log файлу.
2. Очистка по времени создания.
3. Очитка по маске имени созданных файлов.

## Скрипт `04`

Данный скрипт генерирует 5 log файлов nginx в combined формате. Каждый из этих логов содержит информацию за 1 день.

В каждом log файле записаны:
1. IP.
2. Код ответа.
3. Метод.
4. Дата.
5. URL запрос агента.
6. Агент.

## Скрипт `05`

Данный скрипт анализирует созданные четвёртым скриптом log файлы и выводит записи.
Запускается с 1 параметром (число от 1 до 4), где:
1. Отсортированные по коду ответа.
2. Только с уникальным IP.
3. С ошибочными запросами.
4. Только уникальные IP, среди ошибочных запросов.

## Скрипт `06`

Данный скрипт запускает утилиту GoAccess на 5050 порту, которая анализирует log файлы из четвёртого скрипта.